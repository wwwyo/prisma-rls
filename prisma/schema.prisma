generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Tenant {
  id         Int      @id @default(autoincrement())
  name       String
  users      User[]
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
}

model User {
  id         Int      @id @default(autoincrement())
  email      String   @unique
  first_name String?
  last_name  String?
  active     Boolean  @default(false)
  // posts      Post[]
  tenant     Tenant   @relation(fields: [tenantId], references: [id])
  tenantId   Int      @default(dbgenerated("(current_setting('app.current_tenant_id')::int)"))
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
}

// model Post {
//   id        Int     @id @default(autoincrement())
//   title     String
//   content   String?
//   published Boolean @default(false)
//   author    User    @relation(fields: [authorId], references: [id])
//   authorId  Int
// }
